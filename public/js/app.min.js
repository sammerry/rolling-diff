var socket=io.connect("http://127.0.0.1:3000/"),app=app||{};$(function(){function standard(data){var $newDiff=$("<p></p>").append('<span class="pidChar">'+data.pid+"</span>"),$chunk=$("<span></span>").text(data.msg).addClass("diffChar");$newDiff.append($chunk),$allPostsTextArea.prepend($newDiff)}function diff(data){for(var msg=new String(data.msg),$newDiff=$("<p></p>").append('<span class="pidChar">'+data.pid+"</span>"),cur=0,len=msg.length;len>=cur;){var newchar=msg[cur],prevchar=prevMessage[cur],$chunk=$("<span></span>").text(newchar).addClass("diffChar");newchar!=prevchar&&$chunk.addClass("newChar"),$newDiff.append($chunk),cur++}$filterPids.prepend($newDiff),prevMessage=msg}var $filterPids=($("#blast"),$("#filterPids")),$allPostsTextArea=$("#allPosts"),$clearAllPosts=$("#clearAllChatter"),prevMessage=($("#send"),""),$clearAllPosts2=$("clearAllDiff");socket.on("blast",function(data){var filterPid=$("#filter")[0].value;filterPid&&filterPid==data.pid?diff(data):standard(data)}),$clearAllPosts.click(function(){$allPostsTextArea.text("")}),$clearAllPosts2.click(function(){$allPostsTextArea.text("")})});